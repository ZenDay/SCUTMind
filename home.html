<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<script type="text/javascript" src="jquery/jquery-1.11.2.min.js"></script>
    <script type="text/javascript" src="js/MindNode.js"></script>
    <script type="text/javascript" src="js/SCUTMindExtension.js"></script>
	<title>SCUTMind</title>
</head>
<body>
	<canvas id="canvas">您的浏览器不支持canvas，请更换浏览器后尝试</canvas>
	<div id="toolBar" class="toolBar">
		<div class="fixed-l">
			<a href="#" class="sideBar-btn"><img src="icons/menu4.png" height="30" width="30"></a>
		</div>
		<div class="move-mid">
			<a href="#" class="sibling-btn"><img src="icons/sibling4.png" height="30" width="30"><!--<br><span>sibling</span>--></a>
			<a href="#" class="child-btn"><img src="icons/child4.png" height="30" width="30"><!--<br><span>child</span>--></a>
			<a href="#" class="shape-btn"><img src="icons/theme4.png" height="30" width="30"><!--<br><span>theme</span>--></a>
			<a href="#" class="fontcolor-btn"><img src="icons/fontcolor4.png" height="30" width="30"><!--<br><span>fontcolor</span>--></a>
			<a href="#" class="bgcolor-btn"><img src="icons/bgcolor4.png" height="30" width="30"><!--<br><span>bg-color</span>--></a>
 			<a href="#" class="comment-btn"><img src="icons/comment4.png" height="30" width="30"><!--<br><span>comment</span>--></a>
		</div>
		<div class="fixed-r">
			<a href="#" class="delete-btn"><img src="icons/delete4.png" height="30" width="30"><!--<br><span>delete</span>--></a>
		</div>
	</div>
	<div class="clear"></div>
	<div id="selectionBar" class="selectionBar">
		<div id="color" class="show">
			<a href="#"><img src="color/red.png" width="45%"></a>
			<a href="#"><img src="color/yellow.png" width="45%"></a>
			<a href="#"><img src="color/green.png" width="45%"></a>
			<a href="#"><img src="color/lightblue.png" width="45%"></a>
			<a href="#"><img src="color/skyblue.png" width="45%"></a>
			<a href="#"><img src="color/gray.png" width="45%"></a>
			<a href="#"><img src="color/black.png" width="45%"></a>
		</div>
		<div id="theme" class="hide">
			<a href="#">主题一</a>
			<a href="#">主题二</a>
			<a href="#">主题三</a>
		</div>
	</div>
	<script type="text/javascript">
	window.onload = function(){
        var bodyWidth = $("#toolBar").width();
        var bodyHeight = $("body").height();
        var toolBarHeight = $("#toolBar").height();
        var selectionBarHeight = $(".selectionBar").height();
        $("#canvas").width(bodyWidth-10);
        $("#canvas").height(bodyHeight-toolBarHeight-selectionBarHeight-10);
        //调整工具栏图片margin，使之垂直居中
        var toolBar_tag_a = document.getElementById("toolBar").getElementsByTagName("a");
        var toolBar_img = document.getElementById("toolBar").getElementsByTagName("img");
        var aHeight;
        var imgHeight;
        var padTop2;
        for(var j=0; j<toolBar_tag_a.length; j++){
            aHeight = toolBar_tag_a[j].offsetHeight;
            imgHeight = toolBar_img[j].offsetHeight;
            padTop2 = (aHeight - imgHeight)*0.4;
            toolBar_img[j].style.marginTop = padTop2+"px";
        }
        //调整颜色图片margin，使之垂直居中
        var colorBar_tag_a = document.getElementById("color").getElementsByTagName("a");
        var colorBar_img = document.getElementById("color").getElementsByTagName("img");
        var colorBar_tag_a_height;
        var colorBar_img_height;
        for(var i=0; i<colorBar_tag_a.length; i++){
            colorBar_tag_a_height = colorBar_tag_a[i].offsetHeight;
            colorBar_img_height = colorBar_img[i].offsetHeight;
            var margin_top = (colorBar_tag_a_height - colorBar_img_height)*0.4;
            colorBar_img[i].style.marginTop = margin_top+"px";
        }
        var canvas = document.getElementById('canvas');
	    var cxt = canvas.getContext('2d');
        var rect = canvas.getBoundingClientRect();
        canvas.width =  (rect.right-rect.left)*1.5;
        canvas.height = (rect.bottom-rect.top)*1.5;
	    SCUTMind.init(cxt, canvas.width, canvas.height, 2000, 2000);
    }
	</script>
    <script type="text/javascript" src="js/main.js"></script>
</body>
</html>